{
  "$schema": "https://turbo.build/schema.json",
  // All environment variables that should invalidate a cached build needs to be declared here
  "globalEnv": [
    "CI",
    "CONTINUOUS_INTEGRATION",
    "DEBUG",
    "GITHUB_ACTIONS",
    "NODE_ENV",
    "PKG_BUILD_VERSION",
    "PKG_FORMAT",
    "PKG_RUNTIME",
    "PKG_VERSION",
    "SANITY_ACTIVE_ENV",
    "SANITY_APP_BASEPATH",
    "SANITY_CLI_EXTRACT_MANIFEST_ENABLED",
    "SANITY_CLI_EXTRACT_MANIFEST_LOG_ERRORS",
    "SANITY_CLI_QUERY_API_VERSION",
    "SANITY_E2E_DATASET",
    "SANITY_E2E_PROJECT_ID",
    "SANITY_INTERNAL_ENV",
    "SANITY_MODULES_HOST",
    "SANITY_STUDIO_DATASET",
    "SANITY_STUDIO_DEBUG_I18N",
    "SANITY_STUDIO_DEBUG_TELEMETRY",
    "SANITY_STUDIO_EFPS_EXPERIMENT_API_HOST",
    "SANITY_STUDIO_EFPS_EXPERIMENT_DATASET",
    "SANITY_STUDIO_EFPS_EXPERIMENT_PROJECT_ID",
    "SANITY_STUDIO_EFPS_REFERENCE_API_HOST",
    "SANITY_STUDIO_EFPS_REFERENCE_DATASET",
    "SANITY_STUDIO_EFPS_REFERENCE_PROJECT_ID",
    "SANITY_STUDIO_MODE",
    "SANITY_STUDIO_PROJECT_ID",
    "VERCEL_GIT_COMMIT_REF",
    "VERCEL_GIT_PULL_REQUEST_ID"
  ],
  // Variables that should be passed through but not invalidate the cache
  "globalPassThroughEnv": [
    "APPDATA",
    "BROWSER_ARGS",
    "BROWSER",
    "BUILD_NUMBER",
    "CODEX_HOME",
    "EDITOR",
    // These should be passed through but not be used as cache keys since they are tokens
    "EFPS_SANITY_TOKEN_STAGING",
    "EFPS_SANITY_TOKEN_PROD,",
    "GDMSESSION",
    "GITHUB_JOB_ID",
    "GITHUB_JOB_INDEX",
    "GITHUB_RUN_ATTEMPT",
    "GITHUB_RUN_ID",
    "GITHUB_RUN_ID",
    "GITHUB_RUN_NUMBER",
    "GITHUB_TOKEN",
    "NO_UPDATE_NOTIFIER",
    "npm_config_user_agent",
    "PKG_FILE_PATH",
    "RUNNER_OS",
    "SANITY_AUTH_TOKEN",
    "SANITY_BASE_PATH",
    "SANITY_CI_CLI_AUTH_TOKEN_STAGING",
    "SANITY_CLI_API_RATE_LIMIT_BYPASS",
    "SANITY_CLI_TEST_CONFIG_NAME",
    "SANITY_CLI_TEST_ID_TIMESTAMP",
    "SANITY_CLI_TEST_ID",
    "SANITY_CLI_TEST_TYPEGEN",
    "SANITY_CLI_TEST_TYPEGEN_SCHEMA_PATH",
    "SANITY_CLI_TEST_TYPEGEN_OUTPUT_PATH",
    "SANITY_CLI_TEST_SCHEMA_EXTRACTION",
    "SANITY_CLI_TEST_SCHEMA_EXTRACTION_PATH",
    "SANITY_E2E_SESSION_TOKEN",
    "SANITY_STUDIO_FROM_ACTUAL_ENV",
    "SANITY_STUDIO_FROM_DOTENV",
    "SystemRoot",
    "SYSTEMROOT",
    "TERM",
    "TEST",
    "TZ",
    "VISUAL",
    "XDG_CONFIG_HOME",
    "XDG_CURRENT_DESKTOP"
  ],
  "globalDependencies": [
    "pnpm-workspace.yaml",
    ".oxlintrc.json",
    "lerna.json"
  ],
  "tasks": {
    "build": {
      "outputs": [
        "lib/**",
        "*.js"
      ],
      "dependsOn": [
        "^build"
      ],
      "outputLogs": "new-only"
    },
    "build:bundle": {
      "outputs": [
        "dist/**"
      ],
      "dependsOn": [
        "build"
      ],
      "outputLogs": "new-only"
    },
    "check:types": {
      "outputs": [],
      "dependsOn": [
        "^build"
      ]
    },
    "transit": {
      "dependsOn": ["^transit"]
    },
    "lint": {
      "dependsOn": ["transit"]
    },
    "//#check:format": {},
    "//#check:oxlint": {
      "cache": false
    },
    "//#chore:format:fix": {},
    "//#chore:oxlint:fix": {
      "cache": false
    }
  }
}
