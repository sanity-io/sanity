packages:
  - dev/*
  - perf/*
  - examples/*
  - packages/@repo/*
  - packages/@sanity/*
  - packages/create-sanity
  - packages/groq
  - packages/sanity
  - packages/sanity/fixtures/examples/*

catalog:
  '@playwright/experimental-ct-react': 1.56.0
  '@playwright/test': 1.56.0
  '@sanity/eslint-config-i18n': ^2.0.0
  '@sanity/eslint-config-studio': ^5.0.2
  '@sanity/pkg-utils': ^8.1.13
  '@sanity/ui': ^3.1.5
  '@sanity/ui-workshop': ^3.1.2
  '@types/node': ^24.3.0
  '@types/react': ^19.1.9
  '@types/react-dom': ^19.1.7
  '@types/react-is': ^19.0.0
  '@vitejs/plugin-react': ^4.6.0
  esbuild: 0.25.10
  esbuild-register: ^3.6.0
  globals: ^16.2.0
  playwright: 1.56.0
  prettier: ^3.5.3
  react: ^19.1.1
  react-dom: ^19.1.1
  react-is: ^19.1.1
  styled-components: ^6.1.18
  typescript: 5.9.3

catalogs:
  react18:
    react: ^18.3.1
    react-dom: ^18.3.1

# Note: this is needed to avoid build error when building CommonJS (CJS) bundles.
# When bundling `sanity/presentation` for CJS, the `sanity` package is bundled with it,
# and since @sanity/presentation is an external module, this causes the bundler to look for `sanity` package when bundling,
# which again requires sanity to be a dependency of itself.
# Having `sanity` as a dependency of `sanity` works fine with pnpm, but turborepo will fail hard if it
# encounters a package that depends on itself.
# Once we drop CJS support, we'll likely be able to remove the following line.
publicHoistPattern:
  - sanity
  # These are needed for prettier to be able to use the plugin specified by the `@sanity/prettier-config` preset, as well as eslint plugins defined by `@repo/eslint-config`
  - '*eslint*'
  - '*prettier*'

preferWorkspacePackages: true
linkWorkspacePackages: deep

minimumReleaseAge: 4320
minimumReleaseAgeExclude:
  - '@sanity/*'
  - '@portabletext/*'
  - 'react-rx'
  - 'use-effect-event'
  - 'groq-js'
