{"version":3,"file":"index3-Dc_3Dgi7.js","sources":["../../../../../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/pairwise.js","../../../../../../packages/sanity/lib/_chunks-es/index3.mjs"],"sourcesContent":["import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function pairwise() {\n    return operate(function (source, subscriber) {\n        var prev;\n        var hasPrev = false;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            var p = prev;\n            prev = value;\n            hasPrev && subscriber.next([p, value]);\n            hasPrev = true;\n        }));\n    });\n}\n//# sourceMappingURL=pairwise.js.map","import { jsxs, jsx } from \"react/jsx-runtime\";\nimport { c } from \"react-compiler-runtime\";\nimport { useState, useEffect, memo, Fragment } from \"react\";\nimport { isRecord, useDocumentStore, useTranslation, usePerspective, useEditState, useSchema, unstable_useValuePreview, _isCustomDocumentTypeDefinition, useWorkspace, SourceProvider } from \"sanity\";\nimport { generateHelpUrl, Button, ErrorBoundary } from \"./generate-help-url.esm.mjs\";\nimport { useStructureTool, LOADING_PANE, useDocumentLastRev, PaneLayout, LoadingPane, StructureToolPane, setActivePanes } from \"./pane.mjs\";\nimport { structureLocaleNamespace, SerializeError, StructureToolProvider } from \"./StructureToolProvider.mjs\";\nimport { useRouter, useRouterState } from \"sanity/router\";\nimport omit from \"lodash/omit.js\";\nimport { from, of, isObservable, firstValueFrom, NEVER, concat, ReplaySubject } from \"rxjs\";\nimport { nanoid } from \"nanoid\";\nimport { switchMap, publishReplay, refCount, map, startWith, pairwise, scan, distinctUntilChanged } from \"rxjs/operators\";\nimport { uuid } from \"@sanity/uuid\";\nimport { SyncIcon, WarningOutlineIcon } from \"@sanity/icons\";\nimport { Stack, Text, Code, Box, Card, Container, Heading, Flex, useToast, useTheme, PortalProvider } from \"@sanity/ui\";\nimport { styled } from \"styled-components\";\nimport \"../_singletons.mjs\";\nimport { isHotkey } from \"is-hotkey-esm\";\nimport isEqual from \"lodash/isEqual.js\";\nclass PaneResolutionError extends Error {\n  constructor({\n    message,\n    context,\n    helpId,\n    cause\n  }) {\n    super(message), this.name = \"PaneResolutionError\", this.context = context, this.helpId = helpId, this.cause = cause;\n  }\n}\nconst randomIdCache = /* @__PURE__ */ new WeakMap();\nfunction assignId(obj) {\n  const cachedValue = randomIdCache.get(obj);\n  if (cachedValue) return cachedValue;\n  const id = nanoid();\n  return randomIdCache.set(obj, id), id;\n}\nconst isPromise = (thing) => !!thing && typeof thing?.then == \"function\", isSerializable = (thing) => isRecord(thing) ? typeof thing.serialize == \"function\" : !1, rethrowWithPaneResolutionErrors = (next) => (unresolvedPane, context, flatIndex) => {\n  try {\n    return next(unresolvedPane, context, flatIndex);\n  } catch (e) {\n    throw e instanceof PaneResolutionError ? e : new PaneResolutionError({\n      message: typeof e?.message == \"string\" ? e.message : \"\",\n      context,\n      cause: e\n    });\n  }\n}, wrapWithPublishReplay = (next) => (...args) => next(...args).pipe(\n  // need to add publishReplay + refCount to ensure new subscribers always\n  // get an emission. without this, memoized observables may get stuck\n  // waiting for their first emissions resulting in a loading pane\n  publishReplay(1),\n  refCount()\n);\nfunction createPaneResolver(middleware) {\n  const resolvePane = rethrowWithPaneResolutionErrors(wrapWithPublishReplay(middleware((unresolvedPane, context, flatIndex) => {\n    if (!unresolvedPane)\n      throw new PaneResolutionError({\n        message: \"Pane returned no child\",\n        context,\n        helpId: \"structure-item-returned-no-child\"\n      });\n    return isPromise(unresolvedPane) || isObservable(unresolvedPane) ? from(unresolvedPane).pipe(switchMap((result) => resolvePane(result, context, flatIndex))) : isSerializable(unresolvedPane) ? resolvePane(unresolvedPane.serialize(context), context, flatIndex) : typeof unresolvedPane == \"function\" ? resolvePane(unresolvedPane(context.id, context), context, flatIndex) : of(unresolvedPane);\n  })));\n  return resolvePane;\n}\nconst bindCache = /* @__PURE__ */ new WeakMap();\nfunction memoBind(obj, methodKey) {\n  const boundMethods = bindCache.get(obj) || /* @__PURE__ */ new Map();\n  if (boundMethods) {\n    const bound2 = boundMethods.get(methodKey);\n    if (bound2) return bound2;\n  }\n  const method = obj[methodKey];\n  if (typeof method != \"function\")\n    throw new Error(`Expected property \\`${methodKey}\\` to be a function but got ${typeof method} instead.`);\n  const bound = method.bind(obj);\n  return boundMethods.set(methodKey, bound), bindCache.set(obj, boundMethods), bound;\n}\nasync function resolveIntent(options) {\n  const resolvedPaneCache = /* @__PURE__ */ new Map(), resolvePane = createPaneResolver((nextFn) => (unresolvedPane, context, flatIndex) => {\n    const key = unresolvedPane && `${assignId(unresolvedPane)}-${context.path.join(\"__\")}`, cachedResolvedPane = key && resolvedPaneCache.get(key);\n    if (cachedResolvedPane) return cachedResolvedPane;\n    const result = nextFn(unresolvedPane, context, flatIndex);\n    return key && resolvedPaneCache.set(key, result), result;\n  }), fallbackEditorPanes = [[{\n    id: `__edit__${options.params.id}`,\n    params: {\n      ...omit(options.params, [\"id\"]),\n      type: options.params.type\n    },\n    payload: options.payload\n  }]];\n  async function traverse({\n    currentId,\n    flatIndex,\n    intent,\n    params,\n    parent: parent2,\n    path,\n    payload,\n    unresolvedPane,\n    levelIndex,\n    structureContext\n  }) {\n    if (!unresolvedPane) return [];\n    const {\n      id: targetId,\n      type: schemaTypeName,\n      ...otherParams\n    } = params, resolvedPane = await firstValueFrom(resolvePane(unresolvedPane, {\n      id: currentId,\n      splitIndex: 0,\n      parent: parent2,\n      path,\n      index: flatIndex,\n      params: {},\n      payload: void 0,\n      structureContext\n    }, flatIndex));\n    return resolvedPane.type === \"document\" && resolvedPane.id === targetId ? [{\n      panes: [...path.slice(0, path.length - 1).map((i) => [{\n        id: i\n      }]), [{\n        id: targetId,\n        params: otherParams,\n        payload\n      }]],\n      depthIndex: path.length,\n      levelIndex\n    }] : (\n      // if the resolve pane's `canHandleIntent` returns true, then resolve\n      resolvedPane.canHandleIntent?.(intent, params, {\n        pane: resolvedPane,\n        index: flatIndex\n      }) || // if the pane's `canHandleIntent` did not return true, then match against\n      // this default case. we will resolve the intent if:\n      resolvedPane.type === \"documentList\" && // 1. the schema type matches (this required for the document to render)\n      resolvedPane.schemaTypeName === schemaTypeName && // 2. the filter is the default filter.\n      //\n      // NOTE: this case is to prevent false positive matches where the user\n      // has configured a more specific filter for a particular type. In that\n      // case, the user can implement their own `canHandleIntent` function\n      resolvedPane.options.filter === \"_type == $type\" ? [{\n        panes: [\n          // map the current path to router panes\n          ...path.map((id) => [{\n            id\n          }]),\n          // then augment with the intents IDs and params\n          [{\n            id: params.id,\n            params: otherParams,\n            payload\n          }]\n        ],\n        depthIndex: path.length,\n        levelIndex\n      }] : resolvedPane.type === \"list\" && resolvedPane.child && resolvedPane.items ? (await Promise.all(resolvedPane.items.map((item, nextLevelIndex) => item.type === \"divider\" ? Promise.resolve([]) : traverse({\n        currentId: item._id || item.id,\n        flatIndex: flatIndex + 1,\n        intent,\n        params,\n        parent: resolvedPane,\n        path: [...path, item.id],\n        payload,\n        unresolvedPane: typeof resolvedPane.child == \"function\" ? memoBind(resolvedPane, \"child\") : resolvedPane.child,\n        levelIndex: nextLevelIndex,\n        structureContext\n      })))).flat() : []\n    );\n  }\n  const closestPaneToRoot = (await traverse({\n    currentId: \"root\",\n    flatIndex: 0,\n    levelIndex: 0,\n    intent: options.intent,\n    params: options.params,\n    parent: null,\n    path: [],\n    payload: options.payload,\n    unresolvedPane: options.rootPaneNode,\n    structureContext: options.structureContext\n  })).sort((a, b) => a.depthIndex === b.depthIndex ? a.levelIndex - b.levelIndex : a.depthIndex - b.depthIndex)[0];\n  return closestPaneToRoot ? closestPaneToRoot.panes : fallbackEditorPanes;\n}\nconst fallbackEditorChild = (nodeId, context) => {\n  const id = nodeId.replace(/^__edit__/, \"\"), {\n    params,\n    payload,\n    structureContext: {\n      resolveDocumentNode\n    }\n  } = context, {\n    type,\n    template\n  } = params;\n  if (!type)\n    throw new Error(`Document type for document with ID ${id} was not provided in the router params.`);\n  let defaultDocumentBuilder = resolveDocumentNode({\n    schemaType: type,\n    documentId: id\n  }).id(\"editor\");\n  return template && (defaultDocumentBuilder = defaultDocumentBuilder.initialValueTemplate(template, payload)), defaultDocumentBuilder.serialize();\n};\nfunction hashContext(context) {\n  return `contextHash(${JSON.stringify({\n    id: context.id,\n    parentId: parent && assignId(parent),\n    path: context.path,\n    index: context.index,\n    splitIndex: context.splitIndex,\n    serializeOptionsIndex: context.serializeOptions?.index,\n    serializeOptionsPath: context.serializeOptions?.path\n  })})`;\n}\nconst hashResolvedPaneMeta = (meta) => {\n  const normalized = {\n    type: meta.type,\n    id: meta.routerPaneSibling.id,\n    params: meta.routerPaneSibling.params || {},\n    payload: meta.routerPaneSibling.payload || null,\n    flatIndex: meta.flatIndex,\n    groupIndex: meta.groupIndex,\n    siblingIndex: meta.siblingIndex,\n    path: meta.path,\n    paneNode: meta.type === \"resolvedMeta\" ? assignId(meta.paneNode) : null\n  };\n  return `metaHash(${JSON.stringify(normalized)})`;\n};\nfunction resolvePaneTree({\n  unresolvedPane,\n  flattenedRouterPanes,\n  parent: parent2,\n  path,\n  resolvePane,\n  structureContext\n}) {\n  const [current, ...rest] = flattenedRouterPanes, next = rest[0], context = {\n    id: current.routerPaneSibling.id,\n    splitIndex: current.siblingIndex,\n    parent: parent2,\n    path: [...path, current.routerPaneSibling.id],\n    index: current.flatIndex,\n    params: current.routerPaneSibling.params || {},\n    payload: current.routerPaneSibling.payload,\n    structureContext\n  };\n  try {\n    return resolvePane(unresolvedPane, context, current.flatIndex).pipe(\n      // this switch map receives a resolved pane\n      switchMap((paneNode) => {\n        const resolvedPaneMeta = {\n          type: \"resolvedMeta\",\n          ...current,\n          paneNode,\n          path: context.path\n        }, loadingPanes = rest.map((i, restIndex) => ({\n          type: \"loading\",\n          path: [...context.path, ...rest.slice(restIndex).map((_, currentIndex) => `[${i.flatIndex + currentIndex}]`)],\n          paneNode: null,\n          ...i\n        }));\n        if (!rest.length)\n          return of([resolvedPaneMeta]);\n        let nextStream;\n        return (\n          /* the fallback editor case */\n          next?.routerPaneSibling.id.startsWith(\"__edit__\") ? nextStream = resolvePaneTree({\n            unresolvedPane: fallbackEditorChild,\n            flattenedRouterPanes: rest,\n            parent: parent2,\n            path: context.path,\n            resolvePane,\n            structureContext\n          }) : current.groupIndex === next?.groupIndex ? nextStream = resolvePaneTree({\n            unresolvedPane,\n            flattenedRouterPanes: rest,\n            parent: parent2,\n            path,\n            resolvePane,\n            structureContext\n          }) : nextStream = resolvePaneTree({\n            unresolvedPane: typeof paneNode.child == \"function\" ? memoBind(paneNode, \"child\") : paneNode.child,\n            flattenedRouterPanes: rest,\n            parent: paneNode,\n            path: context.path,\n            resolvePane,\n            structureContext\n          }), concat(\n            // we emit the loading panes first in a concat (this emits immediately)\n            of([resolvedPaneMeta, ...loadingPanes]),\n            // then whenever the next stream is done, the results will be combined.\n            nextStream.pipe(map((nextResolvedPanes) => [resolvedPaneMeta, ...nextResolvedPanes]))\n          )\n        );\n      })\n    );\n  } catch (e) {\n    if (e instanceof PaneResolutionError && (e.context && console.warn(`Pane resolution error at index ${e.context.index}${e.context.splitIndex > 0 ? ` for split pane index ${e.context.splitIndex}` : \"\"}: ${e.message}${e.helpId ? ` - see ${generateHelpUrl(e.helpId)}` : \"\"}`, e), e.helpId === \"structure-item-returned-no-child\"))\n      return of([]);\n    throw e;\n  }\n}\nfunction createResolvedPaneNodeStream({\n  routerPanesStream,\n  rootPaneNode,\n  initialCacheState = {\n    cacheKeysByFlatIndex: [],\n    flattenedRouterPanes: [],\n    resolvedPaneCache: /* @__PURE__ */ new Map(),\n    resolvePane: () => NEVER\n  },\n  structureContext\n}) {\n  return routerPanesStream.pipe(\n    // add in implicit \"root\" router pane\n    map((rawRouterPanes) => [[{\n      id: \"root\"\n    }], ...rawRouterPanes]),\n    // create flattened router panes\n    map((routerPanes) => routerPanes.flatMap((routerPaneGroup, groupIndex) => routerPaneGroup.map((routerPaneSibling, siblingIndex) => ({\n      routerPaneSibling,\n      groupIndex,\n      siblingIndex\n    }))).map((i, index) => ({\n      ...i,\n      flatIndex: index\n    }))),\n    // calculate a \"diffIndex\" used for clearing the memo cache\n    startWith([]),\n    pairwise(),\n    map(([prev, curr]) => {\n      for (let i = 0; i < curr.length; i++) {\n        const prevValue = prev[i], currValue = curr[i];\n        if (!isEqual(prevValue, currValue))\n          return {\n            flattenedRouterPanes: curr,\n            diffIndex: i\n          };\n      }\n      return {\n        flattenedRouterPanes: curr,\n        diffIndex: curr.length\n      };\n    }),\n    // create the memoized `resolvePane` function and manage the memo cache\n    scan((acc, next) => {\n      const {\n        cacheKeysByFlatIndex,\n        resolvedPaneCache\n      } = acc, {\n        flattenedRouterPanes,\n        diffIndex\n      } = next, beforeDiffIndex = cacheKeysByFlatIndex.slice(0, diffIndex + 1), afterDiffIndex = cacheKeysByFlatIndex.slice(diffIndex + 1), keysToKeep = new Set(beforeDiffIndex.flatMap((keySet) => Array.from(keySet))), keysToDelete = afterDiffIndex.flatMap((keySet) => Array.from(keySet)).filter((key) => !keysToKeep.has(key));\n      for (const key of keysToDelete)\n        resolvedPaneCache.delete(key);\n      return {\n        flattenedRouterPanes,\n        cacheKeysByFlatIndex,\n        resolvedPaneCache,\n        resolvePane: createPaneResolver((nextFn) => (unresolvedPane, context, flatIndex) => {\n          const key = unresolvedPane && `${assignId(unresolvedPane)}-${hashContext(context)}`, cachedResolvedPane = key && resolvedPaneCache.get(key);\n          if (cachedResolvedPane) return cachedResolvedPane;\n          const result = nextFn(unresolvedPane, context, flatIndex);\n          if (!key) return result;\n          const cacheKeySet = cacheKeysByFlatIndex[flatIndex] || /* @__PURE__ */ new Set();\n          return cacheKeySet.add(key), cacheKeysByFlatIndex[flatIndex] = cacheKeySet, resolvedPaneCache.set(key, result), result;\n        })\n      };\n    }, initialCacheState),\n    // run the memoized, recursive resolving\n    switchMap(({\n      flattenedRouterPanes,\n      resolvePane\n    }) => resolvePaneTree({\n      unresolvedPane: rootPaneNode,\n      flattenedRouterPanes,\n      parent: null,\n      path: [],\n      resolvePane,\n      structureContext\n    }))\n  ).pipe(\n    // this diffs the previous emission with the current one. if there is a new\n    // loading pane at the same position where a previous pane already had a\n    // resolved value (looking at the IDs to compare), then return the previous\n    // pane instead of the loading pane\n    scan((prev, next) => next.map((nextPane, index) => {\n      const prevPane = prev[index];\n      return !prevPane || nextPane.type !== \"loading\" ? nextPane : prevPane.routerPaneSibling.id === nextPane.routerPaneSibling.id ? prevPane : nextPane;\n    }), []),\n    // this prevents duplicate emissions\n    distinctUntilChanged((prev, next) => {\n      if (prev.length !== next.length) return !1;\n      for (let i = 0; i < next.length; i++) {\n        const prevValue = prev[i], nextValue = next[i];\n        if (hashResolvedPaneMeta(prevValue) !== hashResolvedPaneMeta(nextValue))\n          return !1;\n      }\n      return !0;\n    })\n  );\n}\nfunction useRouterPanesStream() {\n  const $ = c(6), [routerStateSubject] = useState(_temp$5);\n  let t0, t1;\n  $[0] !== routerStateSubject ? (t1 = routerStateSubject.asObservable().pipe(map(_temp2$3)), $[0] = routerStateSubject, $[1] = t1) : t1 = $[1], t0 = t1;\n  const routerPanes$ = t0, {\n    state: routerState\n  } = useRouter();\n  let t2, t3;\n  return $[2] !== routerState || $[3] !== routerStateSubject ? (t2 = () => {\n    routerStateSubject.next(routerState);\n  }, t3 = [routerState, routerStateSubject], $[2] = routerState, $[3] = routerStateSubject, $[4] = t2, $[5] = t3) : (t2 = $[4], t3 = $[5]), useEffect(t2, t3), routerPanes$;\n}\nfunction _temp2$3(_routerState) {\n  return _routerState?.panes || [];\n}\nfunction _temp$5() {\n  return new ReplaySubject(1);\n}\nfunction useResolvedPanes() {\n  const $ = c(6), [error, setError] = useState();\n  if (error)\n    throw error;\n  const {\n    structureContext,\n    rootPaneNode\n  } = useStructureTool();\n  let t0;\n  $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t0 = {\n    paneDataItems: [],\n    resolvedPanes: [],\n    routerPanes: []\n  }, $[0] = t0) : t0 = $[0];\n  const [data, setData] = useState(t0), routerPanesStream = useRouterPanesStream();\n  let t1, t2;\n  return $[1] !== rootPaneNode || $[2] !== routerPanesStream || $[3] !== structureContext ? (t1 = () => {\n    const subscription = createResolvedPaneNodeStream({\n      rootPaneNode,\n      routerPanesStream,\n      structureContext\n    }).pipe(map(_temp5)).subscribe({\n      next: (result) => setData(result),\n      error: (e) => setError(e)\n    });\n    return () => subscription.unsubscribe();\n  }, t2 = [rootPaneNode, routerPanesStream, structureContext], $[1] = rootPaneNode, $[2] = routerPanesStream, $[3] = structureContext, $[4] = t1, $[5] = t2) : (t1 = $[4], t2 = $[5]), useEffect(t1, t2), data;\n}\nfunction _temp5(resolvedPanes) {\n  const routerPanes = resolvedPanes.reduce(_temp3, []), groupsLen = routerPanes.length, paneDataItems = resolvedPanes.map((pane) => {\n    const {\n      groupIndex,\n      flatIndex,\n      siblingIndex,\n      routerPaneSibling,\n      path\n    } = pane, itemId = routerPaneSibling.id, nextGroup = routerPanes[groupIndex + 1];\n    return {\n      active: groupIndex === groupsLen - 2,\n      childItemId: nextGroup?.[0].id ?? null,\n      index: flatIndex,\n      itemId: routerPaneSibling.id,\n      groupIndex,\n      key: `${pane.type === \"loading\" ? \"unknown\" : pane.paneNode.id}-${itemId}-${siblingIndex}`,\n      pane: pane.type === \"loading\" ? LOADING_PANE : pane.paneNode,\n      params: routerPaneSibling.params || {},\n      path: path.join(\";\"),\n      payload: routerPaneSibling.payload,\n      selected: flatIndex === resolvedPanes.length - 1,\n      siblingIndex\n    };\n  });\n  return {\n    paneDataItems,\n    routerPanes,\n    resolvedPanes: paneDataItems.map(_temp4)\n  };\n}\nfunction _temp4(pane_0) {\n  return pane_0.pane;\n}\nfunction _temp3(acc, next) {\n  const currentGroup = acc[next.groupIndex] || [];\n  return currentGroup[next.siblingIndex] = next.routerPaneSibling, acc[next.groupIndex] = currentGroup, acc;\n}\nasync function ensureDocumentIdAndType(documentStore, id, type) {\n  if (id && type) return {\n    id,\n    type\n  };\n  if (!id && type) return {\n    id: uuid(),\n    type\n  };\n  if (id && !type) {\n    const resolvedType = await firstValueFrom(documentStore.resolveTypeForDocument(id));\n    return {\n      id,\n      type: resolvedType\n    };\n  }\n  throw new PaneResolutionError({\n    message: \"Neither document `id` or `type` was provided when trying to resolve intent.\"\n  });\n}\nconst EMPTY_RECORD = {}, IntentResolver = memo(function() {\n  const $ = c(7), {\n    navigate\n  } = useRouter(), maybeIntent = useRouterState(_temp$4), {\n    rootPaneNode,\n    structureContext\n  } = useStructureTool(), documentStore = useDocumentStore(), [error, setError] = useState(null);\n  if (error)\n    throw error;\n  let t0, t1;\n  return $[0] !== documentStore || $[1] !== maybeIntent || $[2] !== navigate || $[3] !== rootPaneNode || $[4] !== structureContext ? (t0 = () => {\n    if (maybeIntent) {\n      const {\n        intent,\n        params,\n        payload\n      } = maybeIntent;\n      let cancelled = !1;\n      return async function() {\n        const {\n          id,\n          type\n        } = await ensureDocumentIdAndType(documentStore, typeof params.id == \"string\" ? params.id : void 0, typeof params.type == \"string\" ? params.type : void 0);\n        if (cancelled)\n          return;\n        const panes = await resolveIntent({\n          intent,\n          params: {\n            ...params,\n            id,\n            type\n          },\n          payload,\n          rootPaneNode,\n          structureContext\n        });\n        cancelled || navigate({\n          panes\n        }, {\n          replace: !0\n        });\n      }().catch(setError), () => {\n        cancelled = !0;\n      };\n    }\n  }, t1 = [documentStore, maybeIntent, navigate, rootPaneNode, structureContext], $[0] = documentStore, $[1] = maybeIntent, $[2] = navigate, $[3] = rootPaneNode, $[4] = structureContext, $[5] = t0, $[6] = t1) : (t0 = $[5], t1 = $[6]), useEffect(t0, t1), null;\n});\nfunction _temp$4(routerState) {\n  const intentName = typeof routerState.intent == \"string\" ? routerState.intent : void 0;\n  return intentName ? {\n    intent: intentName,\n    params: isRecord(routerState.params) ? routerState.params : EMPTY_RECORD,\n    payload: routerState.payload\n  } : void 0;\n}\nconst PathSegment = styled.span`\n  &:not(:last-child)::after {\n    content: ' ➝ ';\n    opacity: 0.5;\n  }\n`;\nfunction formatStack(stack) {\n  return stack.replace(/\\(\\.\\.\\.\\)\\./g, `(...)\n  .`).replace(/__WEBPACK_IMPORTED_MODULE_\\d+_+/g, \"\").replace(/___default\\./g, \".\").replace(new RegExp(` \\\\(https?:\\\\/\\\\/${window.location.host}`, \"g\"), \" (\");\n}\nfunction StructureError(t0) {\n  const $ = c(37), {\n    error\n  } = t0;\n  if (!(error instanceof PaneResolutionError))\n    throw error;\n  const {\n    cause\n  } = error, {\n    t\n  } = useTranslation(structureLocaleNamespace), stack = cause?.stack || error.stack, showStack = stack && !(cause instanceof SerializeError) && !error.message.includes(\"Module build failed:\");\n  let t1;\n  $[0] !== cause ? (t1 = cause instanceof SerializeError ? cause.path : [], $[0] = cause, $[1] = t1) : t1 = $[1];\n  const path = t1, helpId = cause instanceof SerializeError && cause.helpId || error.helpId, handleReload = _temp$3;\n  let t2;\n  $[2] !== t ? (t2 = t(\"structure-error.header.text\"), $[2] = t, $[3] = t2) : t2 = $[3];\n  let t3;\n  $[4] !== t2 ? (t3 = /* @__PURE__ */ jsx(Heading, { as: \"h2\", children: t2 }), $[4] = t2, $[5] = t3) : t3 = $[5];\n  let t4;\n  $[6] !== path || $[7] !== t ? (t4 = path.length > 0 && /* @__PURE__ */ jsxs(Stack, { space: 2, children: [\n    /* @__PURE__ */ jsx(Text, { size: 1, weight: \"medium\", children: t(\"structure-error.structure-path.label\") }),\n    /* @__PURE__ */ jsx(Code, { children: path.slice(1).map(_temp2$2) })\n  ] }), $[6] = path, $[7] = t, $[8] = t4) : t4 = $[8];\n  let t5;\n  $[9] !== t ? (t5 = t(\"structure-error.error.label\"), $[9] = t, $[10] = t5) : t5 = $[10];\n  let t6;\n  $[11] !== t5 ? (t6 = /* @__PURE__ */ jsx(Text, { size: 1, weight: \"medium\", children: t5 }), $[11] = t5, $[12] = t6) : t6 = $[12];\n  let t7;\n  $[13] !== error.message || $[14] !== showStack || $[15] !== stack ? (t7 = showStack ? formatStack(stack) : error.message, $[13] = error.message, $[14] = showStack, $[15] = stack, $[16] = t7) : t7 = $[16];\n  let t8;\n  $[17] !== t7 ? (t8 = /* @__PURE__ */ jsx(Code, { children: t7 }), $[17] = t7, $[18] = t8) : t8 = $[18];\n  let t9;\n  $[19] !== t6 || $[20] !== t8 ? (t9 = /* @__PURE__ */ jsxs(Stack, { marginTop: 4, space: 2, children: [\n    t6,\n    t8\n  ] }), $[19] = t6, $[20] = t8, $[21] = t9) : t9 = $[21];\n  let t10;\n  $[22] !== helpId || $[23] !== t ? (t10 = helpId && /* @__PURE__ */ jsx(Box, { marginTop: 4, children: /* @__PURE__ */ jsx(Text, { children: /* @__PURE__ */ jsx(\"a\", { href: generateHelpUrl(helpId), rel: \"noopener noreferrer\", target: \"_blank\", children: t(\"structure-error.docs-link.text\") }) }) }), $[22] = helpId, $[23] = t, $[24] = t10) : t10 = $[24];\n  let t11;\n  $[25] !== t ? (t11 = t(\"structure-error.reload-button.text\"), $[25] = t, $[26] = t11) : t11 = $[26];\n  let t12;\n  $[27] !== t11 ? (t12 = /* @__PURE__ */ jsx(Box, { marginTop: 4, children: /* @__PURE__ */ jsx(Button, { text: t11, icon: SyncIcon, tone: \"primary\", onClick: handleReload }) }), $[27] = t11, $[28] = t12) : t12 = $[28];\n  let t13;\n  $[29] !== t10 || $[30] !== t12 || $[31] !== t4 || $[32] !== t9 ? (t13 = /* @__PURE__ */ jsxs(Card, { marginTop: 4, padding: 4, radius: 2, overflow: \"auto\", shadow: 1, tone: \"inherit\", children: [\n    t4,\n    t9,\n    t10,\n    t12\n  ] }), $[29] = t10, $[30] = t12, $[31] = t4, $[32] = t9, $[33] = t13) : t13 = $[33];\n  let t14;\n  return $[34] !== t13 || $[35] !== t3 ? (t14 = /* @__PURE__ */ jsx(Card, { height: \"fill\", overflow: \"auto\", padding: 4, sizing: \"border\", tone: \"critical\", children: /* @__PURE__ */ jsxs(Container, { children: [\n    t3,\n    t13\n  ] }) }), $[34] = t13, $[35] = t3, $[36] = t14) : t14 = $[36], t14;\n}\nfunction _temp2$2(segment, i) {\n  return /* @__PURE__ */ jsx(PathSegment, { children: segment }, `${segment}-${i}`);\n}\nfunction _temp$3() {\n  window.location.reload();\n}\nfunction NoDocumentTypesScreen() {\n  const $ = c(17), {\n    t\n  } = useTranslation(structureLocaleNamespace);\n  let t0;\n  $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t0 = /* @__PURE__ */ jsx(Box, { children: /* @__PURE__ */ jsx(Text, { size: 1, children: /* @__PURE__ */ jsx(WarningOutlineIcon, {}) }) }), $[0] = t0) : t0 = $[0];\n  let t1;\n  $[1] !== t ? (t1 = t(\"no-document-types-screen.title\"), $[1] = t, $[2] = t1) : t1 = $[2];\n  let t2;\n  $[3] !== t1 ? (t2 = /* @__PURE__ */ jsx(Text, { as: \"h1\", size: 1, weight: \"medium\", children: t1 }), $[3] = t1, $[4] = t2) : t2 = $[4];\n  let t3;\n  $[5] !== t ? (t3 = t(\"no-document-types-screen.subtitle\"), $[5] = t, $[6] = t3) : t3 = $[6];\n  let t4;\n  $[7] !== t3 ? (t4 = /* @__PURE__ */ jsx(Text, { as: \"p\", muted: !0, size: 1, children: t3 }), $[7] = t3, $[8] = t4) : t4 = $[8];\n  let t5;\n  $[9] !== t ? (t5 = t(\"no-document-types-screen.link-text\"), $[9] = t, $[10] = t5) : t5 = $[10];\n  let t6;\n  $[11] !== t5 ? (t6 = /* @__PURE__ */ jsx(Text, { as: \"p\", muted: !0, size: 1, children: /* @__PURE__ */ jsx(\"a\", { href: \"https://www.sanity.io/docs/create-a-schema-and-configure-sanity-studio\", target: \"_blank\", rel: \"noreferrer\", children: t5 }) }), $[11] = t5, $[12] = t6) : t6 = $[12];\n  let t7;\n  return $[13] !== t2 || $[14] !== t4 || $[15] !== t6 ? (t7 = /* @__PURE__ */ jsx(Card, { height: \"fill\", children: /* @__PURE__ */ jsx(Flex, { align: \"center\", height: \"fill\", justify: \"center\", padding: 4, sizing: \"border\", children: /* @__PURE__ */ jsx(Container, { width: 0, children: /* @__PURE__ */ jsx(Card, { padding: 4, radius: 2, shadow: 1, tone: \"caution\", children: /* @__PURE__ */ jsxs(Flex, { children: [\n    t0,\n    /* @__PURE__ */ jsxs(Stack, { flex: 1, marginLeft: 3, space: 3, children: [\n      t2,\n      t4,\n      t6\n    ] })\n  ] }) }) }) }) }), $[13] = t2, $[14] = t4, $[15] = t6, $[16] = t7) : t7 = $[16], t7;\n}\nconst DocumentTitle = (props) => {\n  const $ = c(7), {\n    documentId,\n    documentType\n  } = props, {\n    selectedReleaseId\n  } = usePerspective(), editState = useEditState(documentId, documentType, \"default\", selectedReleaseId), schema = useSchema(), {\n    t\n  } = useTranslation(structureLocaleNamespace), isNewDocument = !editState?.published && !editState?.draft, documentValue = editState?.version || editState?.draft || editState?.published, schemaType = schema.get(documentType), {\n    value,\n    isLoading: previewValueIsLoading\n  } = unstable_useValuePreview({\n    enabled: !!documentValue,\n    schemaType,\n    value: documentValue\n  }), {\n    lastRevisionDocument\n  } = useDocumentLastRev(documentId, documentType), documentTitle = lastRevisionDocument && !documentValue ? \"\" : isNewDocument ? t(\"browser-document-title.new-document\", {\n    schemaType: schemaType?.title || schemaType?.name\n  }) : value?.title || t(\"browser-document-title.untitled-document\"), settled = editState.ready && !previewValueIsLoading, newTitle = useConstructDocumentTitle(documentTitle);\n  let t0;\n  $[0] !== newTitle || $[1] !== settled ? (t0 = () => {\n    settled && (document.title = newTitle);\n  }, $[0] = newTitle, $[1] = settled, $[2] = t0) : t0 = $[2];\n  let t1;\n  return $[3] !== documentTitle || $[4] !== newTitle || $[5] !== settled ? (t1 = [documentTitle, settled, newTitle], $[3] = documentTitle, $[4] = newTitle, $[5] = settled, $[6] = t1) : t1 = $[6], useEffect(t0, t1), null;\n}, PassthroughTitle = (props) => {\n  const $ = c(5), {\n    title\n  } = props, newTitle = useConstructDocumentTitle(title);\n  let t0;\n  $[0] !== newTitle ? (t0 = () => {\n    document.title = newTitle;\n  }, $[0] = newTitle, $[1] = t0) : t0 = $[1];\n  let t1;\n  return $[2] !== newTitle || $[3] !== title ? (t1 = [newTitle, title], $[2] = newTitle, $[3] = title, $[4] = t1) : t1 = $[4], useEffect(t0, t1), null;\n}, StructureTitle = (props) => {\n  const $ = c(8), {\n    resolvedPanes\n  } = props;\n  if (!resolvedPanes?.length)\n    return null;\n  const lastPane = resolvedPanes[resolvedPanes.length - 1];\n  if (isLoadingPane(lastPane)) {\n    let t02;\n    return $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t02 = /* @__PURE__ */ jsx(PassthroughTitle, {}), $[0] = t02) : t02 = $[0], t02;\n  }\n  if (isDocumentPane(lastPane)) {\n    if (lastPane?.title) {\n      let t03;\n      return $[1] !== lastPane.title ? (t03 = /* @__PURE__ */ jsx(PassthroughTitle, { title: lastPane.title }), $[1] = lastPane.title, $[2] = t03) : t03 = $[2], t03;\n    }\n    let t02;\n    return $[3] !== lastPane.options.id || $[4] !== lastPane.options.type ? (t02 = /* @__PURE__ */ jsx(DocumentTitle, { documentId: lastPane.options.id, documentType: lastPane.options.type }), $[3] = lastPane.options.id, $[4] = lastPane.options.type, $[5] = t02) : t02 = $[5], t02;\n  }\n  const t0 = lastPane?.title;\n  let t1;\n  return $[6] !== t0 ? (t1 = /* @__PURE__ */ jsx(PassthroughTitle, { title: t0 }), $[6] = t0, $[7] = t1) : t1 = $[7], t1;\n};\nfunction useConstructDocumentTitle(activeTitle) {\n  const $ = c(3), structureToolBaseTitle = useStructureTool().structureContext.title;\n  let t0;\n  return $[0] !== activeTitle || $[1] !== structureToolBaseTitle ? (t0 = [activeTitle, structureToolBaseTitle].filter(_temp$2), $[0] = activeTitle, $[1] = structureToolBaseTitle, $[2] = t0) : t0 = $[2], t0.join(\" | \");\n}\nfunction _temp$2(title) {\n  return title;\n}\nfunction isDocumentPane(pane) {\n  return pane !== LOADING_PANE && pane.type === \"document\";\n}\nfunction isLoadingPane(pane) {\n  return pane === LOADING_PANE;\n}\nconst StyledPaneLayout = styled(PaneLayout)`\n  min-height: 100%;\n  min-width: 320px;\n`, isSaveHotkey = isHotkey(\"mod+s\"), StructureTool = memo(function(t0) {\n  const $ = c(31), {\n    onPaneChange\n  } = t0, {\n    push: pushToast\n  } = useToast(), schema = useSchema(), {\n    layoutCollapsed,\n    setLayoutCollapsed\n  } = useStructureTool(), {\n    paneDataItems,\n    resolvedPanes\n  } = useResolvedPanes(), isResolvingIntent = useRouterState(_temp$1), {\n    sanity: t1\n  } = useTheme(), {\n    media\n  } = t1, [portalElement, setPortalElement] = useState(null);\n  let t2;\n  $[0] !== setLayoutCollapsed ? (t2 = () => setLayoutCollapsed(!0), $[0] = setLayoutCollapsed, $[1] = t2) : t2 = $[1];\n  const handleRootCollapse = t2;\n  let t3;\n  $[2] !== setLayoutCollapsed ? (t3 = () => setLayoutCollapsed(!1), $[2] = setLayoutCollapsed, $[3] = t3) : t3 = $[3];\n  const handleRootExpand = t3;\n  let t4, t5;\n  $[4] !== onPaneChange || $[5] !== resolvedPanes ? (t4 = () => {\n    resolvedPanes.length && onPaneChange(resolvedPanes);\n  }, t5 = [onPaneChange, resolvedPanes], $[4] = onPaneChange, $[5] = resolvedPanes, $[6] = t4, $[7] = t5) : (t4 = $[6], t5 = $[7]), useEffect(t4, t5);\n  let t6, t7;\n  if ($[8] !== pushToast ? (t6 = () => {\n    const handleGlobalKeyDown = (event) => {\n      isSaveHotkey(event) && (event.preventDefault(), pushToast({\n        closable: !0,\n        id: \"auto-save-message\",\n        status: \"info\",\n        title: \"Your work is automatically saved!\",\n        duration: 4e3\n      }));\n    };\n    return window.addEventListener(\"keydown\", handleGlobalKeyDown), () => window.removeEventListener(\"keydown\", handleGlobalKeyDown);\n  }, t7 = [pushToast], $[8] = pushToast, $[9] = t6, $[10] = t7) : (t6 = $[9], t7 = $[10]), useEffect(t6, t7), !schema._original?.types.some(_isCustomDocumentTypeDefinition)) {\n    let t82;\n    return $[11] === Symbol.for(\"react.memo_cache_sentinel\") ? (t82 = /* @__PURE__ */ jsx(NoDocumentTypesScreen, {}), $[11] = t82) : t82 = $[11], t82;\n  }\n  const t8 = portalElement || null, t9 = layoutCollapsed ? void 0 : \"fill\", t10 = media[1];\n  let t11;\n  $[12] !== paneDataItems ? (t11 = paneDataItems.map(_temp2$1), $[12] = paneDataItems, $[13] = t11) : t11 = $[13];\n  let t12;\n  $[14] !== isResolvingIntent || $[15] !== paneDataItems.length ? (t12 = paneDataItems.length <= 1 && isResolvingIntent && /* @__PURE__ */ jsx(LoadingPane, { paneKey: \"intent-resolver\" }), $[14] = isResolvingIntent, $[15] = paneDataItems.length, $[16] = t12) : t12 = $[16];\n  let t13;\n  $[17] !== handleRootCollapse || $[18] !== handleRootExpand || $[19] !== media[1] || $[20] !== t11 || $[21] !== t12 || $[22] !== t9 ? (t13 = /* @__PURE__ */ jsxs(StyledPaneLayout, { flex: 1, height: t9, minWidth: t10, onCollapse: handleRootCollapse, onExpand: handleRootExpand, children: [\n    t11,\n    t12\n  ] }), $[17] = handleRootCollapse, $[18] = handleRootExpand, $[19] = media[1], $[20] = t11, $[21] = t12, $[22] = t9, $[23] = t13) : t13 = $[23];\n  let t14;\n  $[24] !== resolvedPanes ? (t14 = /* @__PURE__ */ jsx(StructureTitle, { resolvedPanes }), $[24] = resolvedPanes, $[25] = t14) : t14 = $[25];\n  let t15;\n  $[26] === Symbol.for(\"react.memo_cache_sentinel\") ? (t15 = /* @__PURE__ */ jsx(\"div\", { \"data-portal\": \"\", ref: setPortalElement }), $[26] = t15) : t15 = $[26];\n  let t16;\n  return $[27] !== t13 || $[28] !== t14 || $[29] !== t8 ? (t16 = /* @__PURE__ */ jsxs(PortalProvider, { element: t8, children: [\n    t13,\n    t14,\n    t15\n  ] }), $[27] = t13, $[28] = t14, $[29] = t8, $[30] = t16) : t16 = $[30], t16;\n});\nfunction _temp$1(routerState) {\n  return typeof routerState.intent == \"string\";\n}\nfunction _temp2$1(t0) {\n  const {\n    active,\n    childItemId,\n    groupIndex,\n    itemId,\n    key: paneKey,\n    pane,\n    index: paneIndex,\n    params: paneParams,\n    path,\n    payload,\n    siblingIndex,\n    selected\n  } = t0;\n  return /* @__PURE__ */ jsx(Fragment, { children: pane === LOADING_PANE ? /* @__PURE__ */ jsx(LoadingPane, { paneKey, path, selected }) : /* @__PURE__ */ jsx(StructureToolPane, { active, groupIndex, index: paneIndex, pane, childItemId, itemId, paneKey, params: paneParams, payload, path, selected, siblingIndex }) }, `${pane === LOADING_PANE ? \"loading\" : pane.type}-${paneIndex}`);\n}\nfunction StructureToolBoundary(t0) {\n  const $ = c(14), {\n    tool: t1\n  } = t0, {\n    options\n  } = t1, {\n    unstable_sources: sources\n  } = useWorkspace(), [firstSource] = sources;\n  let t2;\n  $[0] !== options ? (t2 = options || {}, $[0] = options, $[1] = t2) : t2 = $[1];\n  const {\n    source,\n    defaultDocumentNode,\n    structure\n  } = t2;\n  let t3;\n  $[2] === Symbol.for(\"react.memo_cache_sentinel\") ? (t3 = [], $[2] = t3) : t3 = $[2], useEffect(_temp2, t3);\n  let t4;\n  $[3] === Symbol.for(\"react.memo_cache_sentinel\") ? (t4 = {\n    error: null\n  }, $[3] = t4) : t4 = $[3];\n  const [t5, setError] = useState(t4), {\n    error\n  } = t5;\n  if (error) {\n    let t62;\n    return $[4] !== error ? (t62 = /* @__PURE__ */ jsx(StructureError, { error }), $[4] = error, $[5] = t62) : t62 = $[5], t62;\n  }\n  const t6 = source || firstSource.name;\n  let t7, t8;\n  $[6] === Symbol.for(\"react.memo_cache_sentinel\") ? (t7 = /* @__PURE__ */ jsx(StructureTool, { onPaneChange: setActivePanes }), t8 = /* @__PURE__ */ jsx(IntentResolver, {}), $[6] = t7, $[7] = t8) : (t7 = $[6], t8 = $[7]);\n  let t9;\n  $[8] !== defaultDocumentNode || $[9] !== structure ? (t9 = /* @__PURE__ */ jsxs(StructureToolProvider, { defaultDocumentNode, structure, children: [\n    t7,\n    t8\n  ] }), $[8] = defaultDocumentNode, $[9] = structure, $[10] = t9) : t9 = $[10];\n  let t10;\n  return $[11] !== t6 || $[12] !== t9 ? (t10 = /* @__PURE__ */ jsx(ErrorBoundary, { onCatch: setError, children: /* @__PURE__ */ jsx(SourceProvider, { name: t6, children: t9 }) }), $[11] = t6, $[12] = t9, $[13] = t10) : t10 = $[13], t10;\n}\nfunction _temp2() {\n  return setActivePanes([]), _temp;\n}\nfunction _temp() {\n  return setActivePanes([]);\n}\nexport {\n  StructureToolBoundary as default\n};\n//# sourceMappingURL=index3.mjs.map\n"],"names":["pairwise","operate","source","subscriber","prev","hasPrev","createOperatorSubscriber","value","p","PaneResolutionError","message","context","helpId","cause","randomIdCache","assignId","obj","cachedValue","id","nanoid","isPromise","thing","isSerializable","isRecord","rethrowWithPaneResolutionErrors","next","unresolvedPane","flatIndex","e","wrapWithPublishReplay","args","publishReplay","refCount","createPaneResolver","middleware","resolvePane","isObservable","from","switchMap","result","of","bindCache","memoBind","methodKey","boundMethods","bound2","method","bound","resolveIntent","options","resolvedPaneCache","nextFn","key","cachedResolvedPane","fallbackEditorPanes","omit","traverse","currentId","intent","params","parent2","path","payload","levelIndex","structureContext","targetId","schemaTypeName","otherParams","resolvedPane","firstValueFrom","i","item","nextLevelIndex","closestPaneToRoot","b","fallbackEditorChild","nodeId","resolveDocumentNode","type","template","defaultDocumentBuilder","hashContext","hashResolvedPaneMeta","meta","normalized","resolvePaneTree","flattenedRouterPanes","current","rest","paneNode","resolvedPaneMeta","loadingPanes","restIndex","_","currentIndex","nextStream","concat","map","nextResolvedPanes","generateHelpUrl","createResolvedPaneNodeStream","routerPanesStream","rootPaneNode","initialCacheState","NEVER","rawRouterPanes","routerPanes","routerPaneGroup","groupIndex","routerPaneSibling","siblingIndex","index","startWith","curr","prevValue","currValue","isEqual","scan","acc","cacheKeysByFlatIndex","diffIndex","beforeDiffIndex","afterDiffIndex","keysToKeep","keySet","keysToDelete","cacheKeySet","nextPane","prevPane","distinctUntilChanged","nextValue","useRouterPanesStream","$","c","routerStateSubject","useState","_temp$5","t0","t1","_temp2$3","routerPanes$","routerState","useRouter","t2","t3","useEffect","_routerState","ReplaySubject","useResolvedPanes","error","setError","useStructureTool","data","setData","subscription","_temp5","resolvedPanes","_temp3","groupsLen","paneDataItems","pane","itemId","nextGroup","LOADING_PANE","_temp4","pane_0","currentGroup","ensureDocumentIdAndType","documentStore","uuid","resolvedType","EMPTY_RECORD","IntentResolver","memo","navigate","maybeIntent","useRouterState","_temp$4","useDocumentStore","cancelled","panes","intentName","PathSegment","styled","formatStack","stack","StructureError","t","useTranslation","structureLocaleNamespace","showStack","SerializeError","handleReload","_temp$3","jsx","Heading","t4","jsxs","Stack","Text","Code","_temp2$2","t5","t6","t7","t8","t9","t10","Box","t11","t12","Button","SyncIcon","t13","Card","t14","Container","segment","NoDocumentTypesScreen","WarningOutlineIcon","Flex","DocumentTitle","props","documentId","documentType","selectedReleaseId","usePerspective","editState","useEditState","schema","useSchema","isNewDocument","documentValue","schemaType","previewValueIsLoading","unstable_useValuePreview","lastRevisionDocument","useDocumentLastRev","documentTitle","settled","newTitle","useConstructDocumentTitle","PassthroughTitle","title","StructureTitle","lastPane","isLoadingPane","t02","isDocumentPane","t03","activeTitle","structureToolBaseTitle","_temp$2","StyledPaneLayout","PaneLayout","isSaveHotkey","isHotkey","StructureTool","onPaneChange","pushToast","useToast","layoutCollapsed","setLayoutCollapsed","isResolvingIntent","_temp$1","useTheme","media","portalElement","setPortalElement","handleRootCollapse","handleRootExpand","handleGlobalKeyDown","event","_isCustomDocumentTypeDefinition","t82","_temp2$1","LoadingPane","t15","t16","PortalProvider","active","childItemId","paneKey","paneIndex","paneParams","selected","Fragment","StructureToolPane","StructureToolBoundary","sources","useWorkspace","firstSource","defaultDocumentNode","structure","_temp2","t62","setActivePanes","StructureToolProvider","ErrorBoundary","SourceProvider","_temp"],"mappings":"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","x_google_ignoreList":[0]}