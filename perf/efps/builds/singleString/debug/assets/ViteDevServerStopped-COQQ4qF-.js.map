{"version":3,"file":"ViteDevServerStopped-COQQ4qF-.js","sources":["../../../../../../packages/sanity/lib/_chunks-es/ViteDevServerStopped.mjs"],"sourcesContent":["import { jsx, jsxs } from \"react/jsx-runtime\";\nimport { c } from \"react-compiler-runtime\";\nimport { Card, Container, Stack, Text, Heading } from \"@sanity/ui\";\nimport { useState, useEffect } from \"react\";\nconst ERROR_TITLE = \"Dev server stopped\", ERROR_DESCRIPTION = \"The development server has stopped. You may need to restart it to continue working.\";\nclass ViteDevServerStoppedError extends Error {\n  constructor() {\n    super(ERROR_TITLE), this.name = \"ViteDevServerStoppedError\", this.ViteDevServerStoppedError = !0;\n  }\n}\nconst serverHot = import.meta.hot, isViteServer = (hot) => !!hot, useDetectViteDevServerStopped = () => {\n  const $ = c(5), [devServerStopped, setDevServerStopped] = useState(!1);\n  let t0;\n  $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t0 = () => setDevServerStopped(!0), $[0] = t0) : t0 = $[0];\n  const markDevServerStopped = t0;\n  let t1, t2;\n  $[1] === Symbol.for(\"react.memo_cache_sentinel\") ? (t1 = () => {\n    isViteServer(serverHot) && serverHot.on(\"vite:ws:disconnect\", markDevServerStopped);\n  }, t2 = [markDevServerStopped], $[1] = t1, $[2] = t2) : (t1 = $[1], t2 = $[2]), useEffect(t1, t2);\n  let t3;\n  return $[3] !== devServerStopped ? (t3 = {\n    devServerStopped\n  }, $[3] = devServerStopped, $[4] = t3) : t3 = $[4], t3;\n}, ThrowViteServerStopped = () => {\n  const {\n    devServerStopped\n  } = useDetectViteDevServerStopped();\n  if (devServerStopped)\n    throw new ViteDevServerStoppedError();\n  return null;\n}, DetectViteDevServerStopped = () => {\n  const $ = c(1);\n  let t0;\n  return $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t0 = isViteServer(serverHot) ? /* @__PURE__ */ jsx(ThrowViteServerStopped, {}) : null, $[0] = t0) : t0 = $[0], t0;\n}, DevServerStoppedErrorScreen = () => {\n  const $ = c(3);\n  let t0;\n  $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t0 = [4, 5, 6, 7], $[0] = t0) : t0 = $[0];\n  let t1;\n  $[1] === Symbol.for(\"react.memo_cache_sentinel\") ? (t1 = /* @__PURE__ */ jsx(Heading, { children: ERROR_TITLE }), $[1] = t1) : t1 = $[1];\n  let t2;\n  return $[2] === Symbol.for(\"react.memo_cache_sentinel\") ? (t2 = /* @__PURE__ */ jsx(Card, { height: \"fill\", overflow: \"auto\", paddingY: t0, paddingX: 4, sizing: \"border\", tone: \"critical\", children: /* @__PURE__ */ jsx(Container, { width: 3, children: /* @__PURE__ */ jsxs(Stack, { space: 4, children: [\n    t1,\n    /* @__PURE__ */ jsx(Card, { border: !0, radius: 2, overflow: \"auto\", padding: 4, tone: \"inherit\", children: /* @__PURE__ */ jsx(Stack, { space: 4, children: /* @__PURE__ */ jsx(Text, { size: 2, children: ERROR_DESCRIPTION }) }) })\n  ] }) }) }), $[2] = t2) : t2 = $[2], t2;\n};\nexport {\n  DetectViteDevServerStopped,\n  DevServerStoppedErrorScreen,\n  ViteDevServerStoppedError\n};\n//# sourceMappingURL=ViteDevServerStopped.mjs.map\n"],"names":["ERROR_TITLE","ERROR_DESCRIPTION","ViteDevServerStoppedError","isViteServer","hot","useDetectViteDevServerStopped","$","c","devServerStopped","setDevServerStopped","useState","t0","markDevServerStopped","t1","t2","useEffect","t3","ThrowViteServerStopped","DetectViteDevServerStopped","jsx","DevServerStoppedErrorScreen","Heading","Card","Container","jsxs","Stack","Text"],"mappings":"yFAIA,MAAMA,EAAc,qBAAsBC,EAAoB,sFAC9D,MAAMC,UAAkC,KAAM,CAC5C,aAAc,CACZ,MAAMF,CAAW,EAAG,KAAK,KAAO,4BAA6B,KAAK,0BAA4B,EAChG,CACF,CACA,MAAmCG,EAAgBC,GAAQ,GAAOC,EAAgC,IAAM,CACtG,MAAMC,EAAIC,EAAAA,EAAE,CAAC,EAAG,CAACC,EAAkBC,CAAmB,EAAIC,EAAAA,SAAS,EAAE,EACrE,IAAIC,EACJL,EAAE,CAAC,IAAM,OAAO,IAAI,2BAA2B,GAAKK,EAAK,IAAMF,EAAoB,EAAE,EAAGH,EAAE,CAAC,EAAIK,GAAMA,EAAKL,EAAE,CAAC,EAC7G,MAAMM,EAAuBD,EAC7B,IAAIE,EAAIC,EACRR,EAAE,CAAC,IAAM,OAAO,IAAI,2BAA2B,GAAKO,EAAK,IAAM,CAE/D,EAAGC,EAAK,CAACF,CAAoB,EAAGN,EAAE,CAAC,EAAIO,EAAIP,EAAE,CAAC,EAAIQ,IAAOD,EAAKP,EAAE,CAAC,EAAGQ,EAAKR,EAAE,CAAC,GAAIS,EAAAA,UAAUF,EAAIC,CAAE,EAChG,IAAIE,EACJ,OAAOV,EAAE,CAAC,IAAME,GAAoBQ,EAAK,CACvC,iBAAAR,CAAA,EACCF,EAAE,CAAC,EAAIE,EAAkBF,EAAE,CAAC,EAAIU,GAAMA,EAAKV,EAAE,CAAC,EAAGU,CACtD,EAAGC,EAAyB,IAAM,CAChC,KAAM,CACJ,iBAAAT,CAAA,EACEH,EAAA,EACJ,GAAIG,EACF,MAAM,IAAIN,EACZ,OAAO,IACT,EAAGgB,EAA6B,IAAM,CACpC,MAAMZ,EAAIC,EAAAA,EAAE,CAAC,EACb,IAAII,EACJ,OAAOL,EAAE,CAAC,IAAM,OAAO,IAAI,2BAA2B,GAAKK,EAAKR,EAAsB,EAAoBgB,EAAAA,IAAIF,EAAwB,EAAE,EAAI,KAAMX,EAAE,CAAC,EAAIK,GAAMA,EAAKL,EAAE,CAAC,EAAGK,CAC5K,EAAGS,EAA8B,IAAM,CACrC,MAAMd,EAAIC,EAAAA,EAAE,CAAC,EACb,IAAII,EACJL,EAAE,CAAC,IAAM,OAAO,IAAI,2BAA2B,GAAKK,EAAK,CAAC,EAAG,EAAG,EAAG,CAAC,EAAGL,EAAE,CAAC,EAAIK,GAAMA,EAAKL,EAAE,CAAC,EAC5F,IAAIO,EACJP,EAAE,CAAC,IAAM,OAAO,IAAI,2BAA2B,GAAKO,QAAyBQ,EAAS,CAAE,SAAUrB,CAAA,CAAa,EAAGM,EAAE,CAAC,EAAIO,GAAMA,EAAKP,EAAE,CAAC,EACvI,IAAIQ,EACJ,OAAOR,EAAE,CAAC,IAAM,OAAO,IAAI,2BAA2B,GAAKQ,EAAqBK,EAAAA,IAAIG,EAAM,CAAE,OAAQ,OAAQ,SAAU,OAAQ,SAAUX,EAAI,SAAU,EAAG,OAAQ,SAAU,KAAM,WAAY,eAA8BY,EAAW,CAAE,MAAO,EAAG,SAA0BC,OAAKC,EAAO,CAAE,MAAO,EAAG,SAAU,CAC5SZ,EACgBM,EAAAA,IAAIG,EAAM,CAAE,OAAQ,GAAI,OAAQ,EAAG,SAAU,OAAQ,QAAS,EAAG,KAAM,UAAW,SAA0BH,MAAIM,EAAO,CAAE,MAAO,EAAG,SAA0BN,EAAAA,IAAIO,EAAM,CAAE,KAAM,EAAG,SAAUzB,CAAA,CAAmB,CAAA,CAAG,EAAG,CAAA,CACvO,CAAG,CAAA,CAAG,EAAG,EAAGK,EAAE,CAAC,EAAIQ,GAAMA,EAAKR,EAAE,CAAC,EAAGQ,CACtC"}